<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jorge Borja">

<title>Caso 2: Análisis de Desempeño Estudiantil en Matemáticas – Prueba Naowee</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./case2_modeling.html" rel="next">
<link href="./case2_introduction.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-b758ccaa5987ceb1b75504551e579abf.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-5111478a3e739f981a6638106c7172e1.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No se han encontrado resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./case2_introduction.html">Caso 2: Desempeño estudiantes de matemáticas</a></li><li class="breadcrumb-item"><a href="./case2_analysis.html">Análisis de los datos</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Buscar" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Prueba Naowee</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introducción</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./case1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Caso 1: Análisis de la copa mundial femenina</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Caso 2: Desempeño estudiantes de matemáticas</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./case2_introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Propuesta del caso</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./case2_analysis.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Análisis de los datos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./case2_modeling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modelos predictivos</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">En esta página</h2>
   
  <ul>
  <li><a href="#librerías-y-configuraciones" id="toc-librerías-y-configuraciones" class="nav-link active" data-scroll-target="#librerías-y-configuraciones">1. Librerías y configuraciones</a></li>
  <li><a href="#carga-de-datos" id="toc-carga-de-datos" class="nav-link" data-scroll-target="#carga-de-datos">2. Carga de datos</a></li>
  <li><a href="#exploración-de-los-datos" id="toc-exploración-de-los-datos" class="nav-link" data-scroll-target="#exploración-de-los-datos">3. Exploración de los datos</a>
  <ul class="collapse">
  <li><a href="#diccionario-de-datos" id="toc-diccionario-de-datos" class="nav-link" data-scroll-target="#diccionario-de-datos">3.1 Diccionario de datos</a></li>
  <li><a href="#transformaciones-de-los-datos" id="toc-transformaciones-de-los-datos" class="nav-link" data-scroll-target="#transformaciones-de-los-datos">3.2 Transformaciones de los datos</a>
  <ul class="collapse">
  <li><a href="#validación-de-datos-duplicados" id="toc-validación-de-datos-duplicados" class="nav-link" data-scroll-target="#validación-de-datos-duplicados">Validación de datos duplicados</a></li>
  <li><a href="#tipos-de-variables" id="toc-tipos-de-variables" class="nav-link" data-scroll-target="#tipos-de-variables">Tipos de variables</a></li>
  <li><a href="#escalado-de-variables" id="toc-escalado-de-variables" class="nav-link" data-scroll-target="#escalado-de-variables">Escalado de variables</a></li>
  </ul></li>
  <li><a href="#análisis-descriptivo-de-las-variables" id="toc-análisis-descriptivo-de-las-variables" class="nav-link" data-scroll-target="#análisis-descriptivo-de-las-variables">3.3 Análisis descriptivo de las variables</a>
  <ul class="collapse">
  <li><a href="#features" id="toc-features" class="nav-link" data-scroll-target="#features">Features</a></li>
  <li><a href="#target" id="toc-target" class="nav-link" data-scroll-target="#target">Target</a></li>
  </ul></li>
  <li><a href="#prueba-de-hipótesis" id="toc-prueba-de-hipótesis" class="nav-link" data-scroll-target="#prueba-de-hipótesis">3.4 Prueba de Hipótesis</a>
  <ul class="collapse">
  <li><a href="#análisis-por-grupo" id="toc-análisis-por-grupo" class="nav-link" data-scroll-target="#análisis-por-grupo">Análisis por grupo</a></li>
  <li><a href="#verificación-de-supuestos" id="toc-verificación-de-supuestos" class="nav-link" data-scroll-target="#verificación-de-supuestos">Verificación de supuestos</a></li>
  <li><a href="#prueba-t" id="toc-prueba-t" class="nav-link" data-scroll-target="#prueba-t">Prueba t</a></li>
  <li><a href="#prueba-u-de-mann-whitney" id="toc-prueba-u-de-mann-whitney" class="nav-link" data-scroll-target="#prueba-u-de-mann-whitney">Prueba U de Mann-Whitney</a></li>
  <li><a href="#clustering-de-estudiantes-según-sus-características" id="toc-clustering-de-estudiantes-según-sus-características" class="nav-link" data-scroll-target="#clustering-de-estudiantes-según-sus-características">Clustering de estudiantes según sus características</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./case2_introduction.html">Caso 2: Desempeño estudiantes de matemáticas</a></li><li class="breadcrumb-item"><a href="./case2_analysis.html">Análisis de los datos</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Caso 2: Análisis de Desempeño Estudiantil en Matemáticas</h1>
<p class="subtitle lead">Análisis exploratorio de los datos</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor/a</div>
    <div class="quarto-title-meta-contents">
             <p><a href="https://www.linkedin.com/in/jorgeborjas25/">Jorge Borja, Mag</a> </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="librerías-y-configuraciones" class="level1">
<h1>1. Librerías y configuraciones</h1>
<p>Para la realización de este EDA, utilizaremos las siguientes librerías:</p>
<div id="983bc3e2" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy <span class="im">import</span> stats</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.cluster <span class="im">import</span> KMeans</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> silhouette_score</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.decomposition <span class="im">import</span> PCA</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Y configuraremos los siguientes parámetros:</p>
<div id="88c0b197" class="cell" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">'ignore'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>plt.style.use(<span class="st">'seaborn-v0_8-darkgrid'</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>sns.set_palette(<span class="st">"husl"</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>plt.rcParams[<span class="st">'figure.figsize'</span>] <span class="op">=</span> (<span class="dv">15</span>, <span class="dv">10</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="carga-de-datos" class="level1">
<h1>2. Carga de datos</h1>
<p>Cargaremos los datos del archivo <a href="https://raw.githubusercontent.com/daramireh/simonBolivarCienciaDatos/refs/heads/main/Student_Performance.csv">Student_Performance.csv</a></p>
<div id="5cc07234" class="cell" data-execution_count="3">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'https://raw.githubusercontent.com/daramireh/simonBolivarCienciaDatos/refs/heads/main/Student_Performance.csv'</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.shape)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>(10000, 6)</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Hours Studied</th>
<th data-quarto-table-cell-role="th">Previous Scores</th>
<th data-quarto-table-cell-role="th">Extracurricular Activities</th>
<th data-quarto-table-cell-role="th">Sleep Hours</th>
<th data-quarto-table-cell-role="th">Sample Question Papers Practiced</th>
<th data-quarto-table-cell-role="th">Performance Index</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>7</td>
<td>99</td>
<td>Yes</td>
<td>9</td>
<td>1</td>
<td>91.0</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>4</td>
<td>82</td>
<td>No</td>
<td>4</td>
<td>2</td>
<td>65.0</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>8</td>
<td>51</td>
<td>Yes</td>
<td>7</td>
<td>2</td>
<td>45.0</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>5</td>
<td>52</td>
<td>Yes</td>
<td>5</td>
<td>2</td>
<td>36.0</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>7</td>
<td>75</td>
<td>No</td>
<td>8</td>
<td>5</td>
<td>66.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="exploración-de-los-datos" class="level1">
<h1>3. Exploración de los datos</h1>
<p>En esta sección, análizaremos los datos de forma que podamos entender su estructura, tendencias y características.</p>
<section id="diccionario-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="diccionario-de-datos">3.1 Diccionario de datos</h2>
<div id="b69dd5ed" class="cell" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>data_dictionary <span class="op">=</span> {}</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="sc">{</span><span class="st">'Column'</span><span class="sc">:&lt;40}</span><span class="ss"> </span><span class="sc">{</span><span class="st">'Type'</span><span class="sc">:&lt;15}</span><span class="ss"> </span><span class="sc">{</span><span class="st">'Unique'</span><span class="sc">:&lt;10}</span><span class="ss"> </span><span class="sc">{</span><span class="st">'Nulls'</span><span class="sc">:&lt;10}</span><span class="ss"> </span><span class="sc">{</span><span class="st">'% Nulls'</span><span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> df.columns:</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    dtype <span class="op">=</span> <span class="bu">str</span>(df[col].dtype)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    unique <span class="op">=</span> df[col].nunique()</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    nulls <span class="op">=</span> df[col].isnull().<span class="bu">sum</span>()</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    null_pct <span class="op">=</span> (nulls <span class="op">/</span> <span class="bu">len</span>(df)) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    data_dictionary[col] <span class="op">=</span> {</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"dtype"</span>: dtype,</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"unique"</span>: <span class="bu">int</span>(unique),</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"nulls"</span>: <span class="bu">int</span>(nulls),</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">"% nulls"</span>: <span class="bu">round</span>(<span class="bu">float</span>(null_pct), <span class="dv">2</span>),</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">"min"</span>: <span class="bu">float</span>(df[col].<span class="bu">min</span>()) <span class="cf">if</span> df[col].dtype <span class="kw">in</span> [<span class="st">'int64'</span>, <span class="st">'float64'</span>] <span class="cf">else</span> <span class="va">None</span>,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">"max"</span>: <span class="bu">float</span>(df[col].<span class="bu">max</span>()) <span class="cf">if</span> df[col].dtype <span class="kw">in</span> [<span class="st">'int64'</span>, <span class="st">'float64'</span>] <span class="cf">else</span> <span class="va">None</span>,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">"mean"</span>: <span class="bu">float</span>(df[col].mean()) <span class="cf">if</span> df[col].dtype <span class="kw">in</span> [<span class="st">'int64'</span>, <span class="st">'float64'</span>] <span class="cf">else</span> <span class="va">None</span>,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">"median"</span>: <span class="bu">float</span>(df[col].median()) <span class="cf">if</span> df[col].dtype <span class="kw">in</span> [<span class="st">'int64'</span>, <span class="st">'float64'</span>] <span class="cf">else</span> <span class="va">None</span>,</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">"std"</span>: <span class="bu">float</span>(df[col].std()) <span class="cf">if</span> df[col].dtype <span class="kw">in</span> [<span class="st">'int64'</span>, <span class="st">'float64'</span>] <span class="cf">else</span> <span class="va">None</span>,</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">"examples"</span>: df[col].head(<span class="dv">3</span>).tolist() <span class="cf">if</span> dtype <span class="op">==</span> <span class="st">'object'</span> <span class="cf">else</span> <span class="va">None</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>col<span class="sc">:&lt;40}</span><span class="ss"> </span><span class="sc">{</span>dtype<span class="sc">:&lt;15}</span><span class="ss"> </span><span class="sc">{</span>unique<span class="sc">:&lt;10}</span><span class="ss"> </span><span class="sc">{</span>nulls<span class="sc">:&lt;10}</span><span class="ss"> </span><span class="sc">{</span>null_pct<span class="sc">:.2f}</span><span class="ss">%"</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Column                                   Type            Unique     Nulls      % Nulls
Hours Studied                            int64           9          0          0.00%
Previous Scores                          int64           60         0          0.00%
Extracurricular Activities               object          2          0          0.00%
Sleep Hours                              int64           6          0          0.00%
Sample Question Papers Practiced         int64           10         0          0.00%
Performance Index                        float64         91         0          0.00%</code></pre>
</div>
</div>
</section>
<section id="transformaciones-de-los-datos" class="level2">
<h2 class="anchored" data-anchor-id="transformaciones-de-los-datos">3.2 Transformaciones de los datos</h2>
<p>Con lo observado en el inciso anterior, podemos afirmar que los datos tienen una buena calidad en los datos ya que no hay valores nulos y los tipos de datos son consistentes.</p>
<section id="validación-de-datos-duplicados" class="level3">
<h3 class="anchored" data-anchor-id="validación-de-datos-duplicados">Validación de datos duplicados</h3>
<p>Cuando pensamos en transformar los datos, es importante considerar la cantidad de datos duplicados. Veamos si nuestro dataset tiene datos duplicados y si se deben eliminar.</p>
<div id="9cac617f" class="cell" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Duplicates: </span><span class="sc">{</span>df<span class="sc">.</span>duplicated()<span class="sc">.</span><span class="bu">sum</span>()<span class="sc">}</span><span class="ss"> rows"</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Duplicates: 127 rows</code></pre>
</div>
</div>
<p>Esta cantidad de datos duplicados pueden ocurrir por varias razones, pero una muy clara es que, dado que son datos sobre el rendimiento académico de estudiantes, es posible que dos estudiantes o más puedan tener métodos similares de estudio.</p>
<p>Sin embargo, aunque el porcentaje de datos duplicados (1.27%) sea bajo debemos comprobar con analítica descriptiva si estos afectan significativamente antes y después de eliminarlos.</p>
<div id="04e45f0a" class="cell" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df.describe()</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Hours Studied</th>
<th data-quarto-table-cell-role="th">Previous Scores</th>
<th data-quarto-table-cell-role="th">Sleep Hours</th>
<th data-quarto-table-cell-role="th">Sample Question Papers Practiced</th>
<th data-quarto-table-cell-role="th">Performance Index</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">count</th>
<td>10000.000000</td>
<td>10000.000000</td>
<td>10000.000000</td>
<td>10000.000000</td>
<td>10000.000000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">mean</th>
<td>4.992900</td>
<td>69.445700</td>
<td>6.530600</td>
<td>4.583300</td>
<td>55.224800</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">std</th>
<td>2.589309</td>
<td>17.343152</td>
<td>1.695863</td>
<td>2.867348</td>
<td>19.212558</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">min</th>
<td>1.000000</td>
<td>40.000000</td>
<td>4.000000</td>
<td>0.000000</td>
<td>10.000000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">25%</th>
<td>3.000000</td>
<td>54.000000</td>
<td>5.000000</td>
<td>2.000000</td>
<td>40.000000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">50%</th>
<td>5.000000</td>
<td>69.000000</td>
<td>7.000000</td>
<td>5.000000</td>
<td>55.000000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">75%</th>
<td>7.000000</td>
<td>85.000000</td>
<td>8.000000</td>
<td>7.000000</td>
<td>71.000000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">max</th>
<td>9.000000</td>
<td>99.000000</td>
<td>9.000000</td>
<td>9.000000</td>
<td>100.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="214f9381" class="cell" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df.drop_duplicates().describe()</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Hours Studied</th>
<th data-quarto-table-cell-role="th">Previous Scores</th>
<th data-quarto-table-cell-role="th">Sleep Hours</th>
<th data-quarto-table-cell-role="th">Sample Question Papers Practiced</th>
<th data-quarto-table-cell-role="th">Performance Index</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">count</th>
<td>9873.000000</td>
<td>9873.000000</td>
<td>9873.000000</td>
<td>9873.000000</td>
<td>9873.000000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">mean</th>
<td>4.992100</td>
<td>69.441102</td>
<td>6.531652</td>
<td>4.583004</td>
<td>55.216651</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">std</th>
<td>2.589081</td>
<td>17.325601</td>
<td>1.697683</td>
<td>2.867202</td>
<td>19.208570</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">min</th>
<td>1.000000</td>
<td>40.000000</td>
<td>4.000000</td>
<td>0.000000</td>
<td>10.000000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">25%</th>
<td>3.000000</td>
<td>54.000000</td>
<td>5.000000</td>
<td>2.000000</td>
<td>40.000000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">50%</th>
<td>5.000000</td>
<td>69.000000</td>
<td>7.000000</td>
<td>5.000000</td>
<td>55.000000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">75%</th>
<td>7.000000</td>
<td>85.000000</td>
<td>8.000000</td>
<td>7.000000</td>
<td>70.000000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">max</th>
<td>9.000000</td>
<td>99.000000</td>
<td>9.000000</td>
<td>9.000000</td>
<td>100.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Como podemos observar, la media y la desviación estándar de los datos duplicados es muy similar a la media de los datos sin duplicados, por lo que no afectan significativamente los datos.</p>
</section>
<section id="tipos-de-variables" class="level3">
<h3 class="anchored" data-anchor-id="tipos-de-variables">Tipos de variables</h3>
<p>Otro tipo de de transformación que es importante a la hora de trabajar con modelos de ML son las variables categóricas. Estas variables pueden ser binarias o no binarias. En el caso de las variables binarias, podemos convertirlas en variables numéricas (0 o 1). En el caso de las variables no binarias, podemos convertirlas en variables numéricas utilizando técnicas como one-hot encoding.</p>
<p>De nuestro análisis podemos notar que <code>Extracurricular Activities</code> es una variable categórica cuyo valor puede ser <code>Yes</code> o <code>No</code>. Por lo tanto, convertiremos esta variable en una variable binaria (0 o 1).</p>
<div id="abbbd691" class="cell" data-execution_count="8">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df_transf <span class="op">=</span> df.copy()</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>df_transf[<span class="st">'Extracurricular Activities'</span>] <span class="op">=</span> df_transf[<span class="st">'Extracurricular Activities'</span>].<span class="bu">map</span>({<span class="st">'Yes'</span>: <span class="dv">1</span>, <span class="st">'No'</span>: <span class="dv">0</span>})</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Además, si queremos realizar un modelo de clasificación, es importante tener una variable objetivo categórica. Teniendo en cuenta que nuestra variable target es <code>Performance Index</code>, haremos una transformación para obtener una variable categórica que identifique si un estudiante tiene un rendimiento bajo, lo que permitiría a las escuelas identificar estudiantes en riesgos académicos.</p>
<div id="7373246e" class="cell" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>per_25 <span class="op">=</span> df_transf[<span class="st">'Performance Index'</span>].quantile(<span class="fl">0.25</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>df_transf[<span class="st">'Low Performance'</span>] <span class="op">=</span> (df_transf[<span class="st">'Performance Index'</span>] <span class="op">&lt;</span> per_25).astype(<span class="bu">int</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>De esta forma, un estudiante tendrá un bajo rendimiento si su índice está dentro del 25% más bajo de la población, lo que permite identificar el cuartil de estudiantes con mayor riesgo académico.</p>
</section>
<section id="escalado-de-variables" class="level3">
<h3 class="anchored" data-anchor-id="escalado-de-variables">Escalado de variables</h3>
<p>Dado que el objetivo de este análisis es predecir el rendimiento académico de los estudiantes, es importante escalar las variables numéricas para que todas tengan la misma escala y para obtener una mejor convergencia de algoritmos.</p>
<p>En este caso, utilizaremos el método de escalado estándar (StandardScaler) para normalizar las variables numéricas que consiste en restar la media y dividir por la desviación estándar.</p>
<div id="66f95f0d" class="cell" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>features_to_scale <span class="op">=</span> [</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Hours Studied'</span>, <span class="st">'Previous Scores'</span>, <span class="st">'Sleep Hours'</span>,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Sample Question Papers Practiced'</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>scaler <span class="op">=</span> StandardScaler()</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>df_transf[features_to_scale] <span class="op">=</span> scaler.fit_transform(df_transf[features_to_scale])</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Lo que nos deja con</p>
<div id="e0662761" class="cell" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df_transf[features_to_scale].describe()</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Hours Studied</th>
<th data-quarto-table-cell-role="th">Previous Scores</th>
<th data-quarto-table-cell-role="th">Sleep Hours</th>
<th data-quarto-table-cell-role="th">Sample Question Papers Practiced</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">count</th>
<td>1.000000e+04</td>
<td>1.000000e+04</td>
<td>1.000000e+04</td>
<td>1.000000e+04</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">mean</th>
<td>1.016076e-16</td>
<td>-1.286082e-16</td>
<td>1.275424e-16</td>
<td>-1.680434e-16</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">std</th>
<td>1.000050e+00</td>
<td>1.000050e+00</td>
<td>1.000050e+00</td>
<td>1.000050e+00</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">min</th>
<td>-1.542149e+00</td>
<td>-1.697914e+00</td>
<td>-1.492294e+00</td>
<td>-1.598526e+00</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">25%</th>
<td>-7.697033e-01</td>
<td>-8.906381e-01</td>
<td>-9.025945e-01</td>
<td>-9.009822e-01</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">50%</th>
<td>2.742182e-03</td>
<td>-2.570019e-02</td>
<td>2.768051e-01</td>
<td>1.453332e-01</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">75%</th>
<td>7.751877e-01</td>
<td>8.969003e-01</td>
<td>8.665048e-01</td>
<td>8.428768e-01</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">max</th>
<td>1.547633e+00</td>
<td>1.704176e+00</td>
<td>1.456205e+00</td>
<td>1.540420e+00</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="análisis-descriptivo-de-las-variables" class="level2">
<h2 class="anchored" data-anchor-id="análisis-descriptivo-de-las-variables">3.3 Análisis descriptivo de las variables</h2>
<p>Esta descripción de las variables se interpretará con el análisis descriptivo de las variables antes de la transformación pues, estas transformaciones no afectan la distribución de las variables pero si su interpretabilidad.</p>
<p>Para las variables categóricas tenemos:</p>
<div id="815cffe0" class="cell" data-execution_count="12">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_transf[<span class="st">'Extracurricular Activities'</span>].value_counts())</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_transf[<span class="st">'Low Performance'</span>].value_counts())</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Extracurricular Activities
0    5052
1    4948
Name: count, dtype: int64
Low Performance
0    7618
1    2382
Name: count, dtype: int64</code></pre>
</div>
</div>
<section id="features" class="level3">
<h3 class="anchored" data-anchor-id="features">Features</h3>
<ol type="1">
<li><code>Hours Studied</code> Los estudiantes estudian entre 1 y 9 horas por semana, con un promedio de 4.99 horas (std=2.59). La distribución muestra que:</li>
</ol>
<ul>
<li>El 50% de los estudiantes estudia 5 horas o menos (mediana=5)</li>
<li>El 25% estudia 3 horas o menos (Q1)</li>
<li>El 25% estudia 7 horas o más (Q3)</li>
</ul>
<p>Hallazgo: Existe una alta variabilidad en los hábitos de estudio entre estudiantes (coeficiente de variación del 52%), lo que sugiere diferencias significativas en la dedicación académica y podría ser un factor diferenciador en el rendimiento.</p>
<ol start="2" type="1">
<li><code>Previous Scores</code> Los puntajes académicos previos oscilan entre 40 y 99 puntos, con una media de 69.45 (std=17.34). La distribución indica:</li>
</ol>
<ul>
<li>El 50% tiene puntajes entre 54 y 85 puntos (IQR=31)</li>
<li>El 25% tiene puntajes inferiores a 54 puntos</li>
<li>Mediana de 69 puntos, similar a la media (distribución simétrica)</li>
</ul>
<p>Hallazgo: La base académica previa es heterogénea con una dispersión considerable (CV=25%). Esto sugiere que el rendimiento histórico será un predictor importante, ya que estudiantes con bases débiles (&lt;54) podrían estar en mayor riesgo.</p>
<ol start="3" type="1">
<li><code>Extracurricular Activities</code> Variable categórica binaria con distribución:</li>
</ol>
<ul>
<li>49.48% participa en actividades extracurriculares (Yes=1)</li>
<li>50.52% no participa (No=0)</li>
</ul>
<p>Hallazgo: El dataset está perfectamente balanceado en esta variable, lo que permitirá analizar de forma equitativa el impacto de las actividades extracurriculares en el rendimiento académico sin sesgos de muestreo.</p>
<ol start="4" type="1">
<li><code>Sleep Hours</code> Sleep Hours (Horas de Sueño) Las horas de sueño promedian 6.53 horas diarias (std=1.70), con un rango de 4 a 9 horas:</li>
</ol>
<ul>
<li>El 50% duerme entre 5 y 8 horas (IQR=3)</li>
<li>Mediana de 7 horas</li>
<li>Distribución concentrada alrededor de 6-7 horas</li>
</ul>
<p>Hallazgo: La mayoría de estudiantes duerme en el rango recomendado para adolescentes (7-9 horas), aunque existe un 25% que duerme 5 horas o menos, lo que podría afectar negativamente su capacidad cognitiva y rendimiento académico.</p>
<ol start="5" type="1">
<li><code>Sample Question Papers Practiced</code> Los estudiantes practican en promedio 4.58 ejercicios (std=2.87), con un rango de 0 a 9:</li>
</ol>
<ul>
<li>El 50% practica entre 2 y 7 ejercicios (IQR=5)</li>
<li>Mediana de 5 ejercicios</li>
<li>Alta variabilidad (CV=63%)</li>
</ul>
<p>Hallazgo: Existe una dispersión considerable en la práctica de ejercicios, con algunos estudiantes sin práctica alguna (mínimo=0) y otros altamente comprometidos (máximo=9). Esta variable muestra la mayor variabilidad relativa, lo que la convierte en un potencial diferenciador clave del rendimiento.</p>
</section>
<section id="target" class="level3">
<h3 class="anchored" data-anchor-id="target">Target</h3>
<ol type="1">
<li><code>Performance Index</code> El rendimiento académico presenta una media de 55.22 puntos (std=19.21), con un rango de 10 a 100 puntos:</li>
</ol>
<ul>
<li>Percentil 25: 40 puntos (bajo rendimiento)</li>
<li>Percentil 50: 55 puntos (mediana)</li>
<li>Percentil 75: 71 puntos (alto rendimiento)</li>
<li>Rango intercuartílico: 31 puntos</li>
</ul>
<p>Hallazgo principal: La alta dispersión (std=19.21, CV=35%) indica que el rendimiento académico es muy variable entre estudiantes. La distribución es aproximadamente simétrica (media ≈ mediana), lo que sugiere que no hay sesgos extremos hacia rendimientos muy bajos o muy altos. Esta variabilidad confirma la necesidad de identificar factores predictores para explicar estas diferencias.</p>
<ol start="2" type="1">
<li><code>Low Performance</code> Variable binaria derivada del percentil 25 del Performance Index:</li>
</ol>
<ul>
<li>25% de estudiantes en riesgo académico (Low Performance = 1, PI &lt; 40)</li>
<li>75% con rendimiento adecuado (Low Performance = 0, PI ≥ 40)</li>
</ul>
<p>Hallazgo: 1 de cada 4 estudiantes requiere intervención académica, lo que representa un desafío significativo para las instituciones educativas. Esta proporción justifica el desarrollo de modelos predictivos para identificación temprana de estudiantes en riesgo.</p>
</section>
</section>
<section id="prueba-de-hipótesis" class="level2">
<h2 class="anchored" data-anchor-id="prueba-de-hipótesis">3.4 Prueba de Hipótesis</h2>
<p>Para responder la pregunta planteada: “¿Existen diferencias estadísticas entre el puntaje final (Performance Index) y la asistencia a actividades extracurriculares?” debemos realizar una prueba de hipótesis para comparar las medias de ambos grupos. De esta forma, con un nivel de significancia <span class="math inline">\(\alpha = 0.05\)</span>, tenemos:</p>
<p><span class="math display">\[
\begin{aligned}
H_0 &amp;: \mu_1 = \mu_2  \\
H_1 &amp;: \mu_1 \neq \mu_2
\end{aligned}
\]</span></p>
<p>donde <span class="math inline">\(\mu_1\)</span> y <span class="math inline">\(\mu_2\)</span> representan las medias de los puntajes de los estudiantes que asisten y no asisten a actividades extracurriculares, respectivamente.</p>
<section id="análisis-por-grupo" class="level3">
<h3 class="anchored" data-anchor-id="análisis-por-grupo">Análisis por grupo</h3>
<div id="0eda1757" class="cell" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>with_extra <span class="op">=</span> df_transf[df_transf[<span class="st">'Extracurricular Activities'</span>] <span class="op">==</span> <span class="dv">1</span>][<span class="st">'Performance Index'</span>]</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>without_extra <span class="op">=</span> df_transf[df_transf[<span class="st">'Extracurricular Activities'</span>] <span class="op">==</span> <span class="dv">0</span>][<span class="st">'Performance Index'</span>]</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(with_extra.describe())</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(without_extra.describe())</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>count    4948.000000
mean       55.700889
std        19.264416
min        11.000000
25%        41.000000
50%        55.000000
75%        71.000000
max       100.000000
Name: Performance Index, dtype: float64
count    5052.000000
mean       54.758511
std        19.152068
min        10.000000
25%        40.000000
50%        55.000000
75%        70.000000
max        99.000000
Name: Performance Index, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="verificación-de-supuestos" class="level3">
<h3 class="anchored" data-anchor-id="verificación-de-supuestos">Verificación de supuestos</h3>
<p>Para la prueba de hipótesis es necesario verificar que las muestras sean independientes y que las varianzas sean iguales. De esta forma, debemos realizar una prueba de normalidad (Shapiro-Wilk) y una prueba de igualdad de varianzas (Levene).</p>
<div id="4de9b05c" class="cell" data-execution_count="14">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Mean Difference: </span><span class="sc">{</span>with_extra<span class="sc">.</span>mean() <span class="op">-</span> without_extra<span class="sc">.</span>mean()<span class="sc">:.4f}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Mean Difference: 0.9424</code></pre>
</div>
</div>
<section id="prueba-de-normalidad" class="level4">
<h4 class="anchored" data-anchor-id="prueba-de-normalidad">Prueba de normalidad</h4>
<div id="021dbbcc" class="cell" data-execution_count="15">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>stat_with, p_with <span class="op">=</span> stats.shapiro(with_extra)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>stat_without, p_without <span class="op">=</span> stats.shapiro(without_extra)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Shapiro-Wilk Test:"</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"With Extra: </span><span class="sc">{</span>stat_with<span class="sc">:.6f}</span><span class="ss">, p-value: </span><span class="sc">{</span>p_with<span class="sc">:.6f}</span><span class="ss">"</span>)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Without Extra: </span><span class="sc">{</span>stat_without<span class="sc">:.6f}</span><span class="ss">, p-value: </span><span class="sc">{</span>p_without<span class="sc">:.6f}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Shapiro-Wilk Test:
With Extra: 0.983235, p-value: 0.000000
Without Extra: 0.984866, p-value: 0.000000</code></pre>
</div>
</div>
</section>
<section id="prueba-de-igualdad-de-varianzas" class="level4">
<h4 class="anchored" data-anchor-id="prueba-de-igualdad-de-varianzas">Prueba de igualdad de varianzas</h4>
<div id="2cd65db6" class="cell" data-execution_count="16">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>stat, p <span class="op">=</span> stats.levene(with_extra, without_extra)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Levene Test:"</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Statistic: </span><span class="sc">{</span>stat<span class="sc">:.6f}</span><span class="ss">, p-value: </span><span class="sc">{</span>p<span class="sc">:.6f}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Levene Test:
Statistic: 0.427227, p-value: 0.513368</code></pre>
</div>
</div>
<p>Dado que los datos no cumplen con el supuesto de normalidad, deberíamos usar una prueba no paramétrica como la <code>U de Mann-Whitney</code>. Sin embargo, dado el tamaño de las muestras (<span class="math inline">\(n_1 = 4948, n_2 = 5052\)</span>), por el teorema central del límite podemos usar la prueba paramétrica <code>t-test</code>.</p>
</section>
</section>
<section id="prueba-t" class="level3">
<h3 class="anchored" data-anchor-id="prueba-t">Prueba t</h3>
<div id="e3918da2" class="cell" data-execution_count="17">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>stat, p <span class="op">=</span> stats.ttest_ind(with_extra, without_extra)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"T-Test:"</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Statistic: </span><span class="sc">{</span>stat<span class="sc">:.6f}</span><span class="ss">, p-value: </span><span class="sc">{</span>p<span class="sc">:.6f}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>T-Test:
Statistic: 2.452987, p-value: 0.014184</code></pre>
</div>
</div>
</section>
<section id="prueba-u-de-mann-whitney" class="level3">
<h3 class="anchored" data-anchor-id="prueba-u-de-mann-whitney">Prueba U de Mann-Whitney</h3>
<div id="76d2d224" class="cell" data-execution_count="18">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>stat, p <span class="op">=</span> stats.mannwhitneyu(with_extra, without_extra)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Mann-Whitney U Test:"</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Statistic: </span><span class="sc">{</span>stat<span class="sc">:.6f}</span><span class="ss">, p-value: </span><span class="sc">{</span>p<span class="sc">:.6f}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Mann-Whitney U Test:
Statistic: 12814910.500000, p-value: 0.028425</code></pre>
</div>
</div>
<p>Con base a los resultados obtenidos (p-valores &lt; 0.05), podemos rechazar la hipótesis nula y concluir que existen diferencias en el <code>Performance Index</code> entre estudiantes que asisten y no asisten a actividades extracurriculares.</p>
<p>Los estudiantes que participan en actividades extracurriculares presentan un rendimiento académico significativamente superior a aquellos que no participan (aproximadamente 0.94 puntos más). Aunque la diferencia es estadísticamente significativa, es importante notar que la magnitud es relativamente pequeña (menos de 1 punto), lo que sugiere que las actividades extracurriculares tienen un impacto positivo pero modesto en el rendimiento académico.</p>
</section>
<section id="clustering-de-estudiantes-según-sus-características" class="level3">
<h3 class="anchored" data-anchor-id="clustering-de-estudiantes-según-sus-características">Clustering de estudiantes según sus características</h3>
<p>Para identificar los grupos o conglomerados de estudiantes, se aplicará el método del codo y el análisis de silueta para determinar el número óptimo de clusters.</p>
<div id="645703f8" class="cell" data-execution_count="19">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>cluster_features <span class="op">=</span> features_to_scale <span class="op">+</span> [<span class="st">'Extracurricular Activities'</span>]</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>X_cluster <span class="op">=</span> df_transf[cluster_features].copy()</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>inertias <span class="op">=</span> []</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>silhouette_scores <span class="op">=</span> []</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>K_range <span class="op">=</span> <span class="bu">range</span>(<span class="dv">2</span>, <span class="dv">11</span>)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k <span class="kw">in</span> K_range:</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    kmeans <span class="op">=</span> KMeans(n_clusters<span class="op">=</span>k, random_state<span class="op">=</span><span class="dv">42</span>, n_init<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    kmeans.fit(X_cluster)</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    inertias.append(kmeans.inertia_)</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>    labels <span class="op">=</span> kmeans.predict(X_cluster)</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>    score <span class="op">=</span> silhouette_score(X_cluster, labels)</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>    silhouette_scores.append(score)</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Silhouette Scores:"</span>)</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k, score <span class="kw">in</span> <span class="bu">zip</span>(K_range, silhouette_scores):</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"k=</span><span class="sc">{</span>k<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>score<span class="sc">:.4f}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Silhouette Scores:
k=2: 0.1773
k=3: 0.1639
k=4: 0.1725
k=5: 0.1783
k=6: 0.1774
k=7: 0.1883
k=8: 0.2020
k=9: 0.1932
k=10: 0.1925</code></pre>
</div>
</div>
<div id="df3612e5" class="cell" data-execution_count="20">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">15</span>))</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>ax1 <span class="op">=</span> axes[<span class="dv">0</span>]</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>ax1.plot(K_range, inertias, <span class="st">'bo-'</span>, linewidth<span class="op">=</span><span class="dv">2</span>, markersize<span class="op">=</span><span class="dv">8</span>)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>ax1.set_xlabel(<span class="st">'# Clusters (k)'</span>)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>ax1.set_ylabel(<span class="st">'Inertia (WCSS)'</span>)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>ax1.set_title(<span class="st">'Elbow Method'</span>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>ax1.grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> axes[<span class="dv">1</span>]</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>ax2.plot(K_range, silhouette_scores, <span class="st">'go-'</span>, linewidth<span class="op">=</span><span class="dv">2</span>, markersize<span class="op">=</span><span class="dv">8</span>)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>ax2.set_xlabel(<span class="st">'# Clusters (k)'</span>)</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>ax2.set_ylabel(<span class="st">'Silhouette Score'</span>)</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>ax2.set_title(<span class="st">'Silhouette Analysis'</span>)</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>ax2.grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="case2_analysis_files/figure-html/cell-21-output-1.png" width="758" height="1430" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Como podemos observar, el número óptimo de clusters es 4, pues aporta un balance entre la simplicidad y calidad de los grupos identificados. Presenta un score de silhouette aceptable (0.1725), similar al obtenido con un número de clusteres mayor. Además permite identificar perfiles claros: bajo, medio-bajo, medio-alto, alto rendimiento por lo que facilita la toma de decisiones y la implementación de intervenciones educativas.</p>
<div id="391f814f" class="cell" data-execution_count="21">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>optimal_k <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>kmeans_final <span class="op">=</span> KMeans(n_clusters<span class="op">=</span>optimal_k, random_state<span class="op">=</span><span class="dv">42</span>, n_init<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>df_transf[<span class="st">'Cluster'</span>] <span class="op">=</span> kmeans_final.fit_predict(X_cluster)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Student distribution by cluster:"</span>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_transf[<span class="st">'Cluster'</span>].value_counts().sort_index())</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Student distribution by cluster:
Cluster
0    2564
1    2454
2    2533
3    2449
Name: count, dtype: int64</code></pre>
</div>
</div>
<div id="cd0fc2a6" class="cell" data-execution_count="22">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(optimal_k):</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    cluster_data <span class="op">=</span> df[df_transf[<span class="st">'Cluster'</span>] <span class="op">==</span> i]</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Cluster </span><span class="sc">{</span>i<span class="sc">}</span><span class="ss"> (n = </span><span class="sc">{</span><span class="bu">len</span>(cluster_data)<span class="sc">}</span><span class="ss"> students, </span><span class="sc">{</span><span class="bu">len</span>(cluster_data)<span class="op">/</span><span class="bu">len</span>(df)<span class="op">*</span><span class="dv">100</span><span class="sc">:.1f}</span><span class="ss">%)"</span>)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Hours studied: </span><span class="sc">{</span>cluster_data[<span class="st">'Hours Studied'</span>]<span class="sc">.</span>mean()<span class="sc">:.2f}</span><span class="ss"> hours/week"</span>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Previous scores: </span><span class="sc">{</span>cluster_data[<span class="st">'Previous Scores'</span>]<span class="sc">.</span>mean()<span class="sc">:.2f}</span><span class="ss"> points"</span>)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Sleep hours: </span><span class="sc">{</span>cluster_data[<span class="st">'Sleep Hours'</span>]<span class="sc">.</span>mean()<span class="sc">:.2f}</span><span class="ss"> hours/day"</span>)</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Sample questions practiced: </span><span class="sc">{</span>cluster_data[<span class="st">'Sample Question Papers Practiced'</span>]<span class="sc">.</span>mean()<span class="sc">:.2f}</span><span class="ss"> exercises"</span>)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Performance index: </span><span class="sc">{</span>cluster_data[<span class="st">'Performance Index'</span>]<span class="sc">.</span>mean()<span class="sc">:.2f}</span><span class="ss"> points"</span>)</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>    with_extra_pct <span class="op">=</span> (cluster_data[<span class="st">'Extracurricular Activities'</span>] <span class="op">==</span> <span class="st">'Yes'</span>).<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(cluster_data) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Extracurricular activities: </span><span class="sc">{</span>with_extra_pct<span class="sc">:.1f}</span><span class="ss">%"</span>)</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>    perf_mean <span class="op">=</span> cluster_data[<span class="st">'Performance Index'</span>].mean()</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> perf_mean <span class="op">&gt;=</span> df[<span class="st">'Performance Index'</span>].quantile(<span class="fl">0.75</span>):</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>        category <span class="op">=</span> <span class="st">"high"</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> perf_mean <span class="op">&gt;=</span> df[<span class="st">'Performance Index'</span>].quantile(<span class="fl">0.50</span>):</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>        category <span class="op">=</span> <span class="st">"medium-high"</span></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> perf_mean <span class="op">&gt;=</span> df[<span class="st">'Performance Index'</span>].quantile(<span class="fl">0.25</span>):</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>        category <span class="op">=</span> <span class="st">"medium-low"</span></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>        category <span class="op">=</span> <span class="st">"low"</span></span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Performance level: </span><span class="sc">{</span>category<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>()</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cluster 0 (n = 2564 students, 25.6%)
Hours studied: 6.97 hours/week
Previous scores: 69.54 points
Sleep hours: 4.88 hours/day
Sample questions practiced: 4.76 exercises
Performance index: 60.19 points
Extracurricular activities: 51.1%
Performance level: medium-high

Cluster 1 (n = 2454 students, 24.5%)
Hours studied: 7.24 hours/week
Previous scores: 69.23 points
Sleep hours: 8.10 hours/day
Sample questions practiced: 4.72 exercises
Performance index: 62.23 points
Extracurricular activities: 48.1%
Performance level: medium-high

Cluster 2 (n = 2533 students, 25.3%)
Hours studied: 2.96 hours/week
Previous scores: 69.36 points
Sleep hours: 6.57 hours/day
Sample questions practiced: 1.72 exercises
Performance index: 48.77 points
Extracurricular activities: 48.6%
Performance level: medium-low

Cluster 3 (n = 2449 students, 24.5%)
Hours studied: 2.77 hours/week
Previous scores: 69.65 points
Sleep hours: 6.65 hours/day
Sample questions practiced: 7.23 exercises
Performance index: 49.69 points
Extracurricular activities: 50.1%
Performance level: medium-low
</code></pre>
</div>
</div>
<div id="b681d5a2" class="cell" data-execution_count="23">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>pca <span class="op">=</span> PCA(n_components<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>X_pca <span class="op">=</span> pca.fit_transform(X_cluster)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Explained variance:"</span>)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"PC1: </span><span class="sc">{</span>pca<span class="sc">.</span>explained_variance_ratio_[<span class="dv">0</span>]<span class="op">*</span><span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">%"</span>)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"PC2: </span><span class="sc">{</span>pca<span class="sc">.</span>explained_variance_ratio_[<span class="dv">1</span>]<span class="op">*</span><span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">%"</span>)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Total: </span><span class="sc">{</span><span class="bu">sum</span>(pca.explained_variance_ratio_)<span class="op">*</span><span class="dv">100</span><span class="sc">:.2f}</span><span class="ss">%"</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Explained variance:
PC1: 23.97%
PC2: 23.80%
Total: 47.76%</code></pre>
</div>
</div>
<div id="72ef9a08" class="cell" data-execution_count="24">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">12</span>))</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>ax1 <span class="op">=</span> axes[<span class="dv">0</span>]</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>scatter <span class="op">=</span> ax1.scatter(</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    X_pca[:, <span class="dv">0</span>], X_pca[:, <span class="dv">1</span>],</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    c<span class="op">=</span>df_transf[<span class="st">'Cluster'</span>], cmap<span class="op">=</span><span class="st">'viridis'</span>,</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>    alpha<span class="op">=</span><span class="fl">0.6</span>, edgecolors<span class="op">=</span><span class="st">'black'</span>, s<span class="op">=</span><span class="dv">30</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>ax1.set_xlabel(<span class="ss">f'PC1 (</span><span class="sc">{</span>pca<span class="sc">.</span>explained_variance_ratio_[<span class="dv">0</span>]<span class="op">*</span><span class="dv">100</span><span class="sc">:.1f}</span><span class="ss">%)'</span>)</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>ax1.set_ylabel(<span class="ss">f'PC2 (</span><span class="sc">{</span>pca<span class="sc">.</span>explained_variance_ratio_[<span class="dv">1</span>]<span class="op">*</span><span class="dv">100</span><span class="sc">:.1f}</span><span class="ss">%)'</span>)</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>ax1.set_title(<span class="st">'Clusters on PCA'</span>)</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>ax1.grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>plt.colorbar(scatter, ax<span class="op">=</span>ax1, label<span class="op">=</span><span class="st">'Cluster'</span>)</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>centers_pca <span class="op">=</span> pca.transform(kmeans_final.cluster_centers_)</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>ax1.scatter(</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>    centers_pca[:, <span class="dv">0</span>], centers_pca[:, <span class="dv">1</span>],</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>    c<span class="op">=</span><span class="st">'red'</span>, marker<span class="op">=</span><span class="st">'X'</span>, s<span class="op">=</span><span class="dv">300</span>, edgecolors<span class="op">=</span><span class="st">'black'</span>,</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>    linewidths<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">'Centroids'</span></span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>ax1.legend()</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> axes[<span class="dv">1</span>]</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>cluster_counts <span class="op">=</span> df_transf[<span class="st">'Cluster'</span>].value_counts().sort_index()</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> plt.cm.viridis(np.linspace(<span class="dv">0</span>, <span class="dv">1</span>, optimal_k))</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>ax2.bar(</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>    cluster_counts.index, cluster_counts.values,</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span>colors, edgecolor<span class="op">=</span><span class="st">'black'</span>, alpha<span class="op">=</span><span class="fl">0.7</span></span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>ax2.set_xlabel(<span class="st">'Cluster'</span>)</span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>ax2.set_ylabel(<span class="st">'# Students'</span>)</span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>ax2.set_title(<span class="st">'Distribution of Students by Cluster'</span>)</span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>ax2.set_xticks(<span class="bu">range</span>(optimal_k))</span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>ax2.grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>, axis<span class="op">=</span><span class="st">'y'</span>)</span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, val <span class="kw">in</span> <span class="bu">enumerate</span>(cluster_counts.values):</span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>    ax2.text(i, val, <span class="bu">str</span>(val), ha<span class="op">=</span><span class="st">'center'</span>, va<span class="op">=</span><span class="st">'bottom'</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="case2_analysis_files/figure-html/cell-25-output-1.png" width="759" height="1142" class="figure-img"></p>
</figure>
</div>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copiado");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copiado");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./case2_introduction.html" class="pagination-link" aria-label="Propuesta del caso">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Propuesta del caso</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./case2_modeling.html" class="pagination-link" aria-label="Modelos predictivos">
        <span class="nav-page-text">Modelos predictivos</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>